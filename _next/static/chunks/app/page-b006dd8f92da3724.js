(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{5146:(e,t,a)=>{Promise.resolve().then(a.bind(a,6994))},6994:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>H});var s=a(5155),l=a(2115);let r=e=>{let t;let a=new Set,s=(e,s)=>{let l="function"==typeof e?e(t):e;if(!Object.is(l,t)){let e=t;t=(null!=s?s:"object"!=typeof l||null===l)?l:Object.assign({},t,l),a.forEach(a=>a(t,e))}},l=()=>t,r={setState:s,getState:l,getInitialState:()=>n,subscribe:e=>(a.add(e),()=>a.delete(e))},n=t=e(s,l,r);return r},n=e=>e?r(e):r,c=e=>e,i=e=>{let t=n(e),a=e=>(function(e,t=c){let a=l.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return l.useDebugValue(a),a})(t,e);return Object.assign(a,t),a},o=e=>e?i(e):i;function m(e,t){let a;try{a=e()}catch(e){return}return{getItem:e=>{var s;let l=e=>null===e?null:JSON.parse(e,null==t?void 0:t.reviver),r=null!=(s=a.getItem(e))?s:null;return r instanceof Promise?r.then(l):l(r)},setItem:(e,s)=>a.setItem(e,JSON.stringify(s,null==t?void 0:t.replacer)),removeItem:e=>a.removeItem(e)}}let d=e=>t=>{try{let a=e(t);if(a instanceof Promise)return a;return{then:e=>d(e)(a),catch(e){return this}}}catch(e){return{then(e){return this},catch:t=>d(t)(e)}}},h=(e,t)=>(a,s,l)=>{let r,n={storage:m(()=>localStorage),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},c=!1,i=new Set,o=new Set,h=n.storage;if(!h)return e((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${n.name}', the given storage is currently unavailable.`),a(...e)},s,l);let u=()=>{let e=n.partialize({...s()});return h.setItem(n.name,{state:e,version:n.version})},x=l.setState;l.setState=(e,t)=>{x(e,t),u()};let f=e((...e)=>{a(...e),u()},s,l);l.getInitialState=()=>f;let g=()=>{var e,t;if(!h)return;c=!1,i.forEach(e=>{var t;return e(null!=(t=s())?t:f)});let l=(null==(t=n.onRehydrateStorage)?void 0:t.call(n,null!=(e=s())?e:f))||void 0;return d(h.getItem.bind(h))(n.name).then(e=>{if(e){if("number"!=typeof e.version||e.version===n.version)return[!1,e.state];if(n.migrate){let t=n.migrate(e.state,e.version);return t instanceof Promise?t.then(e=>[!0,e]):[!0,t]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(e=>{var t;let[l,c]=e;if(a(r=n.merge(c,null!=(t=s())?t:f),!0),l)return u()}).then(()=>{null==l||l(r,void 0),r=s(),c=!0,o.forEach(e=>e(r))}).catch(e=>{null==l||l(void 0,e)})};return l.persist={setOptions:e=>{n={...n,...e},e.storage&&(h=e.storage)},clearStorage:()=>{null==h||h.removeItem(n.name)},getOptions:()=>n,rehydrate:()=>g(),hasHydrated:()=>c,onHydrate:e=>(i.add(e),()=>{i.delete(e)}),onFinishHydration:e=>(o.add(e),()=>{o.delete(e)})},n.skipHydration||g(),r||f},u=o()(h(e=>({boxWidth:66,boxHeight:91,boxDepth:37,flapHeight:20,tuckFlapHeight:16,scale:1,printOffset:4,deckName:"",identities:[],selectedIdentity:"",identityImageUrl:"",identitiesLastUpdated:new Date(Date.now()-6048e5),deckNameFontSize:17,setBoxWidth:t=>e({boxWidth:t}),setBoxHeight:t=>e({boxHeight:t}),setBoxDepth:t=>e({boxDepth:t}),setFlapHeight:t=>e({flapHeight:t}),setTuckFlapHeight:t=>e({tuckFlapHeight:t}),setScale:t=>e({scale:t}),setPrintOffset:t=>e({printOffset:t}),setDeckName:t=>e({deckName:t}),setIdentities:t=>e({identities:t}),setSelectedIdentity:t=>e({selectedIdentity:t}),setIdentityImageUrl:t=>e({identityImageUrl:t}),setIdentitiesLastUpdated:t=>e({identitiesLastUpdated:t}),setDeckNameFontSize:t=>e({deckNameFontSize:t})}),{name:"box-dimensions-store",storage:m(()=>localStorage)}));var x=function(e){return e.NETRUNNER="Android: Netrunner",e.ARKHAM="Arkham Horror: The Card Game",e}({}),f=function(e){return e.NEUTRAL="NEUTRAL",e.ADAM="ADAM",e.ANARCH="ANARCH",e.APEX="APEX",e.CRIMINAL="CRIMINAL",e.HAAS_BIOROID="HB",e.JINTAKI="JINTEKI",e.NBN="NBN",e.SHAPER="SHAPER",e.SUNNY="SUNNY",e.WEYLAND="WEYLAND",e}({}),g=function(e){return e.NEUTRAL="NEUTRAL",e.GUARDIAN="GUARDIAN",e.MYSTIC="MYSTIC",e.ROGUE="ROGUE",e.SEEKER="SEEKER",e.SURVIVOR="SURVIVOR",e}({});let p=o()(h((e,t)=>({lcg:x.NETRUNNER,setLcg:t=>e({lcg:t}),faction:"NEUTRAL",netrunnerIdentities:[],arkhamIdentities:[],selectedIdentity:"",identityImageUrl:"",netrunnerIdentitiesLastUpdated:new Date(Date.now()-6048e5),arkhamIdentitiesLastUpdated:new Date(Date.now()-6048e5),getImageUrl:()=>{switch(t().lcg){case x.NETRUNNER:return"https://card-images.netrunnerdb.com/v2/large/".concat(t().selectedIdentity,".jpg");case x.ARKHAM:let e=t().arkhamIdentities.find(e=>e.code===t().selectedIdentity);return"https://arkhamdb.com/".concat(null==e?void 0:e.image);default:return""}},getTextureClasses:()=>{let e=t().lcg.toLowerCase().replace(/[ :-]/g,"-");return"box-texture ".concat(e," ").concat(t().faction)},setFaction:t=>e({faction:t}),setNetrunnerIdentities:t=>e({netrunnerIdentities:t}),setArkhamIdentities:t=>e({arkhamIdentities:t}),setSelectedIdentity:t=>e({selectedIdentity:t}),setIdentityImageUrl:t=>e({identityImageUrl:t}),setNetrunnerIdentitiesLastUpdated:t=>e({netrunnerIdentitiesLastUpdated:t}),setArkhamIdentitiesLastUpdated:t=>e({arkhamIdentitiesLastUpdated:t})}),{name:"lcg-tuckbox-game-store",storage:m(()=>localStorage)}));function N(){let{boxDepth:e,boxHeight:t,flapHeight:a,printOffset:r}=u(),{lcg:n,faction:c,getTextureClasses:i}=p(),[o,m]=(0,l.useState)("");return(0,l.useEffect)(()=>{m(i())},[n,c,i]),(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("div",{className:"flex",style:{height:"".concat(a+e-r,"mm")}}),(0,s.jsx)("div",{style:{width:"".concat(e,"mm"),height:"".concat(t,"mm"),transform:"perspective(200px) rotateY(-30deg)",transformOrigin:"right"},className:"flex flex-col border border-black ".concat(o)}),(0,s.jsx)("div",{className:"flex",style:{height:"".concat(a+e-r,"mm")}})]})}function b(){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"-top-[8mm] left-[calc(50%-15mm)] absolute bg-white border rounded-full w-[30mm] h-[16mm]"}),(0,s.jsx)("div",{className:"-top-[16mm] left-[calc(50%-15mm)] absolute bg-white w-[30mm] h-[16mm]"})]})}function v(){let{boxHeight:e,boxWidth:t}=u(),{lcg:a,faction:r,selectedIdentity:n,getImageUrl:c,getTextureClasses:i}=p(),[o,m]=(0,l.useState)("");return(0,l.useEffect)(()=>{m(i())},[a,r,i]),(0,s.jsxs)("div",{style:{width:"".concat(t,"mm"),height:"".concat(e,"mm")},className:"relative items-center border border-s-0 border-black ".concat(o," "),children:[""!==n&&(0,s.jsx)("img",{className:"absolute max-w-[200%] h-full",src:c(),alt:"Box front",style:{width:"".concat(t*(a===x.ARKHAM?2:1),"mm"),height:"".concat(e,"mm")}}),(0,s.jsx)(b,{})]})}var w=a(6575),j=a.n(w),y=a(8207),I=a.n(y);function A(){let{lcg:e,faction:t,getTextureClasses:a}=p(),{boxDepth:r,boxHeight:n,deckName:c,deckNameFontSize:i}=u(),[o,m]=(0,l.useState)(""),[d,h]=(0,l.useState)(""),f=e=>{switch(e){case x.NETRUNNER:return I().variable+" font-netrunner small-caps";case x.ARKHAM:return j().variable+" font-arkham";default:return""}};return(0,l.useEffect)(()=>{m(a()),h(f(e))},[e,t,a]),(0,s.jsx)("div",{style:{width:"".concat(r,"mm"),height:"".concat(n,"mm")},className:"relative items-center border border-s-0 border-black ".concat(o),children:(0,s.jsxs)("div",{className:"items-center bg-white ms-[12%] mt-[12%] rounded w-3/4 h-[90%]",children:["NEUTRAL"!==t?(0,s.jsx)("img",{src:"".concat(e===x.NETRUNNER?"nsg-assets/NISEI_":"ark-assets/").concat(t,".svg"),alt:"Box side panel",width:36,height:36,className:"left-[calc(50%-1.125rem)] absolute"}):(0,s.jsx)("div",{className:"w-9 h-9"}),(0,s.jsx)("span",{className:"".concat(d," left-1/2 absolute inset-0 flex justify-center items-center px-12 py-4 text-lg text-center rotate-90 origin-left"),style:{fontSize:i,width:"".concat(n,"mm"),height:"".concat(r,"mm"),top:"-".concat(r/2,"mm"),whiteSpace:"pre-line"},children:c}),"NEUTRAL"!==t?(0,s.jsx)("img",{src:"".concat(e===x.NETRUNNER?"nsg-assets/NISEI_":"ark-assets/").concat(t,".svg"),alt:"Box side panel",width:36,height:36,className:"bottom-4 left-[calc(50%-1.125rem)] absolute"}):(0,s.jsx)("div",{className:"w-9 h-9"})]})})}function E(){let{boxDepth:e,flapHeight:t}=u(),{lcg:a,faction:r,getTextureClasses:n}=p(),[c,i]=(0,l.useState)("");return(0,l.useEffect)(()=>{i(n())},[a,r,n]),(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[(0,s.jsx)("div",{style:{width:"".concat(e,"mm"),height:"".concat(t,"mm")},className:"relative flex flex-col items-center border border-e-0 border-b-0  rounded-tl-[15mm] ".concat(c)}),(0,s.jsx)(A,{}),(0,s.jsx)("div",{style:{width:"".concat(e,"mm"),height:"".concat(t,"mm")},className:"relative flex flex-col items-center border border-e-0 border-t-0  rounded-bl-[15mm] ".concat(c)})]})}function R(){let{boxDepth:e,boxHeight:t,boxWidth:a,tuckFlapHeight:r,deckName:n,flapHeight:c,printOffset:i,deckNameFontSize:o}=u(),{lcg:m,faction:d,selectedIdentity:h,getImageUrl:f,getTextureClasses:g}=p();u();let[N,b]=(0,l.useState)(""),[v,w]=(0,l.useState)(""),y=e=>{switch(e){case x.NETRUNNER:return I().variable+" font-netrunner small-caps";case x.ARKHAM:return j().variable+" font-arkham";default:return""}};return(0,l.useEffect)(()=>{b(g()),w(y(m))},[m,d,g]),(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[(0,s.jsx)("div",{style:{width:"".concat(a,"mm"),height:"".concat(r,"mm")},className:"relative flex flex-col items-center border border-b-0 border-black rounded-t-full overflow-hidden ".concat(N),children:""!==h&&(0,s.jsx)("img",{className:"max-w-[200%]",style:{width:"".concat(a*(m===x.ARKHAM?2:1),"mm"),height:"".concat(t,"mm"),rotate:"180deg",marginTop:"-".concat(t-c+i,"mm"),marginLeft:"-".concat(m===x.ARKHAM?a:0,"mm")},src:f(),alt:"Box front",width:a,height:t})}),(0,s.jsx)("div",{style:{width:"".concat(a,"mm"),height:"".concat(e,"mm")},className:"relative items-center border border-b-0 border-black ".concat(N),children:(0,s.jsx)("div",{className:"absolute inset-6 flex justify-items-center items-center bg-white rounded-md text-black text-center grow",children:(0,s.jsx)("span",{className:"w-full text-center ".concat(v),style:{fontSize:o,whiteSpace:"pre-line"},children:n})})}),(0,s.jsx)("div",{style:{width:"".concat(a,"mm"),height:"".concat(t,"mm")},className:"relative flex flex-col items-center border border-s-0 border-black ".concat(N," overflow-hidden"),children:""!==h&&(0,s.jsx)("img",{className:"top-0 left-0 absolute max-w-[200%] h-full",src:f(),alt:"Box front",width:a,height:t,style:{width:"".concat(a*(m===x.ARKHAM?2:1),"mm"),height:"".concat(t,"mm")}})}),(0,s.jsx)("div",{style:{width:"".concat(a,"mm"),height:"".concat(e,"mm")},className:"relative flex flex-col items-center border border-t-0 border-black ".concat(N)}),(0,s.jsx)("div",{style:{width:"".concat(a,"mm"),height:"".concat(r,"mm")},className:"relative flex flex-col items-center border border-t-0 border-black rounded-b-full ".concat(N)})]})}function k(){let{boxDepth:e,flapHeight:t}=u(),{lcg:a,faction:r,getTextureClasses:n}=p(),[c,i]=(0,l.useState)("");return(0,l.useEffect)(()=>{i(n())},[a,r,n]),(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[(0,s.jsx)("div",{style:{width:"".concat(e,"mm"),height:"".concat(t,"mm")},className:"relative flex flex-col items-center border border-s-0 border-b-0  rounded-tr-[15mm] ".concat(c)}),(0,s.jsx)(A,{}),(0,s.jsx)("div",{style:{width:"".concat(e,"mm"),height:"".concat(t,"mm")},className:"relative flex flex-col items-center border border-s-0 border-t-0  rounded-br-[15mm] ".concat(c)})]})}function S(){let{scale:e}=u();return(0,s.jsx)("main",{className:"flex flex-col",children:(0,s.jsx)("div",{className:"p-4 print:p-0",children:(0,s.jsxs)("div",{className:"flex flex-row items-center w-full h-full box-net",style:{transform:"scale(".concat(e,")")},children:[(0,s.jsx)(N,{}),(0,s.jsx)(v,{}),(0,s.jsx)(E,{}),(0,s.jsx)(R,{}),(0,s.jsx)(k,{})]})})})}function U(){let{scale:e,boxDepth:t,boxHeight:a,boxWidth:r,tuckFlapHeight:n,flapHeight:c,printOffset:i,deckName:o,deckNameFontSize:m,setBoxDepth:d,setBoxHeight:h,setBoxWidth:N,setFlapHeight:b,setScale:v,setTuckFlapHeight:w,setPrintOffset:j,setDeckName:y,setDeckNameFontSize:I}=u(),{faction:A,netrunnerIdentities:E,arkhamIdentities:R,selectedIdentity:k,netrunnerIdentitiesLastUpdated:S,arkhamIdentitiesLastUpdated:U,setFaction:H,setNetrunnerIdentities:D,setArkhamIdentities:T,setSelectedIdentity:C,setNetrunnerIdentitiesLastUpdated:F,setArkhamIdentitiesLastUpdated:_}=p(),{lcg:L,setLcg:O}=p();return(0,l.useEffect)(()=>{if(L===x.NETRUNNER)!(new Date(S).getTime()>Date.now()-864e5)&&fetch("https://netrunnerdb.com/api/2.0/public/cards").then(e=>e.json()).then(e=>{D(e.data.map(e=>({...e,image:"".concat(e.code,".jpg")})).filter(e=>"identity"===e.type_code).map(e=>e)),F(new Date)});else if(L===x.ARKHAM){if(new Date(U).getTime()>Date.now()-864e5)return;fetch("https://arkhamdb.com/api/public/cards/").then(e=>e.json()).then(e=>{T(e.map(e=>{var t;return{...e,title:e.title||e.name,image:null!==(t=e.imagesrc)&&void 0!==t?t:"bundles/cards/".concat(e.code,".jpg")}}).filter(e=>"investigator"===e.type_code).map(e=>e)),_(new Date)})}},[L,S,U,D,T,F,_]),(0,s.jsxs)("aside",{className:"print:hidden flex flex-col gap-2 bg-slate-800 px-4 w-[300px] h-svh text-xs",children:[(0,s.jsx)("h1",{className:"text-white text-lg",children:"Game"}),(0,s.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[(0,s.jsx)("div",{className:"w-1/3 text-white",children:"Game"}),(0,s.jsx)("select",{className:"p-2 w-2/3",value:L,onChange:e=>{O(e.target.value),C(""),H("NEUTRAL"),y("")},children:Object.values(x).map(e=>(0,s.jsx)("option",{children:e},e))})]}),(0,s.jsx)("h1",{className:"text-white text-lg",children:"Deck Details"}),(0,s.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[(0,s.jsx)("label",{className:"w-1/3 text-white",children:"Deck Name"}),(0,s.jsx)("textarea",{className:"p-2 w-2/3",value:o,onChange:e=>y(e.target.value)})]}),(0,s.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[(0,s.jsx)("div",{className:"w-1/3 text-white",children:"Faction"}),L===x.ARKHAM&&(0,s.jsx)("select",{className:"p-2 w-2/3",value:A,onChange:e=>H(e.target.value),children:(0,s.jsx)(s.Fragment,{children:Object.values(g).map(e=>(0,s.jsx)("option",{children:e},e))})}),L===x.NETRUNNER&&(0,s.jsx)("select",{className:"p-2 w-2/3",value:A,onChange:e=>H(e.target.value),children:(0,s.jsx)(s.Fragment,{children:Object.values(f).map(e=>(0,s.jsx)("option",{children:e},e))})})]}),(0,s.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[(0,s.jsx)("div",{className:"w-1/3 text-white",children:"Identity"}),(0,s.jsxs)("select",{className:"p-2 w-2/3",value:k,onChange:e=>C(e.target.value),children:[(0,s.jsx)("option",{value:"",children:"Select Identity"}),(0,s.jsx)(s.Fragment,{children:L===x.NETRUNNER&&E.sort((e,t)=>e.title.localeCompare(t.title)).map(e=>(0,s.jsx)("option",{value:e.code,children:e.title},e.code))}),(0,s.jsx)(s.Fragment,{children:L===x.ARKHAM&&R.sort((e,t)=>e.title.localeCompare(t.title)).map(e=>(0,s.jsx)("option",{value:e.code,children:e.title},e.code))})]})]}),(0,s.jsx)("h1",{className:"text-white text-lg",children:"Box Dimension Overrides"}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[(0,s.jsx)("label",{className:"w-1/3 text-white",children:"Font Size"}),(0,s.jsx)("input",{className:"p-2 w-2/3",type:" number",value:m,onChange:e=>I(parseInt(e.target.value))})]}),(0,s.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[(0,s.jsx)("label",{className:"w-1/3 text-white",children:"Width"}),(0,s.jsx)("input",{className:"p-2 w-2/3",type:" number",value:r,onChange:e=>N(parseInt(e.target.value))})]}),(0,s.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[(0,s.jsx)("label",{className:"w-1/3 text-white",children:"Height"}),(0,s.jsx)("input",{className:"p-2 w-2/3",type:" number",value:a,onChange:e=>h(parseInt(e.target.value))})]}),(0,s.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[(0,s.jsx)("label",{className:"w-1/3 text-white",children:"Depth"}),(0,s.jsx)("input",{className:"p-2 w-2/3",type:" number",value:t,onChange:e=>d(parseInt(e.target.value))})]}),(0,s.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[(0,s.jsx)("label",{className:"w-1/3 text-white",children:"Flap Height"}),(0,s.jsx)("input",{className:"p-2 w-2/3",type:" number",value:c,onChange:e=>b(parseInt(e.target.value))})]}),(0,s.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[(0,s.jsx)("label",{className:"w-1/3 text-white",children:"Tuck Flap Height"}),(0,s.jsx)("input",{className:"p-2 w-2/3",type:" number",value:n,onChange:e=>w(parseInt(e.target.value))})]}),(0,s.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[(0,s.jsx)("label",{className:"w-1/3 text-white",children:"Scale"}),(0,s.jsx)("input",{className:"p-2 w-2/3",type:" number",step:.1,value:e,onChange:e=>v(parseFloat(e.target.value))})]}),(0,s.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[(0,s.jsx)("label",{className:"w-1/3 text-white",children:"Print Offset"}),(0,s.jsx)("input",{className:"p-2 w-2/3",type:" number",value:i,onChange:e=>j(parseInt(e.target.value))})]})]}),(0,s.jsx)("hr",{className:"mt-4"}),(0,s.jsx)("p",{className:"mt-4 text-white italic",children:"I know this is called Netrunner Tuckbox Creator and it has Arkham support. I was asked if it could be done, and was curious. I do not play Arkham, so I hopefully it works. I did make custom faction icons for Arkham as I could not find any."}),(0,s.jsx)("a",{href:"https://grahamcoulby.co.uk",className:"text-white",target:"_blank",rel:"noopener noreferrer",children:(0,s.jsx)("img",{src:"https://grahamcoulby.co.uk/_next/static/media/logo.625befc3.png",alt:"gc-logo",width:50})})]})}function H(){return(0,l.useEffect)(()=>{document.documentElement.style.setProperty("--asset-path","/netrunner-tuckbox-creator")},[]),(0,s.jsxs)("div",{className:"flex flex-row min-h-screen",children:[(0,s.jsx)(U,{}),(0,s.jsx)(S,{})]})}},6575:e=>{e.exports={style:{fontFamily:"'ArkhamFont', 'ArkhamFont Fallback'",fontWeight:400,fontStyle:"normal"},className:"__className_2df706",variable:"__variable_2df706"}},8207:e=>{e.exports={style:{fontFamily:"'NetrunnerFont', 'NetrunnerFont Fallback'",fontWeight:200,fontStyle:"normal"},className:"__className_7b9c45",variable:"__variable_7b9c45"}}},e=>{var t=t=>e(e.s=t);e.O(0,[781,441,517,358],()=>t(5146)),_N_E=e.O()}]);